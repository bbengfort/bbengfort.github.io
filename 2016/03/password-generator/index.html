<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Simple Password Generation | Libelli</title><meta name=keywords content><meta name=description content="I was talking with @looselycoupled the other day about how we generate passwords for use on websites. We both agree that every single domain should have its own password (to prevent one crack ruling all your Internets). However, we&rsquo;ve both evolved on the method over time, and I&rsquo;ve written a simple script that allows me to generate passwords using methodologies discussed in this post.
In particular I use the generator to create passwords for pwSafe, the tool I currently use for password management (due to its use of the open source database format created by Bruce Schneier)."><meta name=author content="Benjamin Bengfort"><link rel=canonical href=https://bbengfort.github.io/2016/03/password-generator/><link crossorigin=anonymous href=/assets/css/stylesheet.min.d0c0348c2d0cff14148d0e347258519d8df2ce53ce5ac32c7bd9a549182cb8ae.css integrity="sha256-0MA0jC0M/xQUjQ40clhRnY3yzlPOWsMse9mlSRgsuK4=" rel="preload stylesheet" as=style><link rel=preload href=/icon.png as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><link rel=icon href=https://bbengfort.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://bbengfort.github.io/icon.png><link rel=icon type=image/png sizes=32x32 href=https://bbengfort.github.io/icon.png><link rel=apple-touch-icon href=https://bbengfort.github.io/apple-touch-icon-precomposed.png><link rel=mask-icon href=https://bbengfort.github.io/icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.79.0"><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-8096804-11','auto');ga('send','pageview');}</script><meta property="og:title" content="Simple Password Generation"><meta property="og:description" content="I was talking with @looselycoupled the other day about how we generate passwords for use on websites. We both agree that every single domain should have its own password (to prevent one crack ruling all your Internets). However, we&rsquo;ve both evolved on the method over time, and I&rsquo;ve written a simple script that allows me to generate passwords using methodologies discussed in this post.
In particular I use the generator to create passwords for pwSafe, the tool I currently use for password management (due to its use of the open source database format created by Bruce Schneier)."><meta property="og:type" content="article"><meta property="og:url" content="https://bbengfort.github.io/2016/03/password-generator/"><meta property="og:image" content="https://bbengfort.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-03-30T09:07:21+00:00"><meta property="article:modified_time" content="2016-03-30T09:07:21+00:00"><meta property="og:site_name" content="Libelli"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://bbengfort.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Simple Password Generation"><meta name=twitter:description content="I was talking with @looselycoupled the other day about how we generate passwords for use on websites. We both agree that every single domain should have its own password (to prevent one crack ruling all your Internets). However, we&rsquo;ve both evolved on the method over time, and I&rsquo;ve written a simple script that allows me to generate passwords using methodologies discussed in this post.
In particular I use the generator to create passwords for pwSafe, the tool I currently use for password management (due to its use of the open source database format created by Bruce Schneier)."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://bbengfort.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Simple Password Generation","item":"https://bbengfort.github.io/2016/03/password-generator/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Simple Password Generation","name":"Simple Password Generation","description":"I was talking with @looselycoupled the other day about how we generate passwords for use on websites. We both agree that every single domain should have its own password (to prevent one crack ruling all your Internets). However, we\u0026rsquo;ve both evolved on the method over time, and I\u0026rsquo;ve written a simple script that allows me to generate passwords using methodologies discussed in this post.\nIn particular I use the generator to create passwords for pwSafe, the tool I currently use for password management (due to its use of the open source database format created by Bruce Schneier).","keywords":[],"articleBody":"I was talking with @looselycoupled the other day about how we generate passwords for use on websites. We both agree that every single domain should have its own password (to prevent one crack ruling all your Internets). However, we’ve both evolved on the method over time, and I’ve written a simple script that allows me to generate passwords using methodologies discussed in this post.\nIn particular I use the generator to create passwords for pwSafe, the tool I currently use for password management (due to its use of the open source database format created by Bruce Schneier). It is my hope that this script can be embedded directly into pwSafe, or at least allow me to write directly to the database; but for now I just copy and paste with the pbcopy utility.\nThe point of this post, though, is not the generator (though I hope it can be useful). The point of the post is that because I do not believe in security through obscurity or obfuscation I want to expose my techniques to criticism and testing publicly. I believe that an approach to security must be ongoing, living, and continuous. While the foundation of security revolves around some shared secret (a key, a password) that must not be made public, the way that secret is used should be open and constantly inspected for flaws.\nSo although this post isn’t really about anything and is quite simple, it does put my money where my mouth is, philosophically speaking. If you’re reading this, I hope you read with a critical eye and report any flaws you spot in the comments of the snippet on GitHub Gist.\nPrevious Approaches My original approach was pretty simple: keep three versions of the same password in a variety of strengths:\npassword p4ssw0rd p4$$w0rd  In order to generate domain specific passwords, just append a few characters from the site. So for example, for Facebook, Gmail, and PayPal you might use passwordfb, p4ssw0rdgmail, and p4$$w0rdpp respectively, in order of increasing “security”. The benefit of this approach is simple, memorable passwords that meet a variety of security features required by websites.\nOf course, the flaws are numerous here. All passwords should have the same level of security, using a variety of characters. Additionally the use of a discoverable pattern could make a targeted attack easy. The real problem for me, however, was that on sites that required a routine password change (which should be done anyway). This method does not lend flexibility. However, it does highlight the trade-off between ease of use and security, however, which led my to my next approach.\nThe next approach did the same thing, but instead of adding letters and symbols, I used a long, correct sentence inspired by the xkcd Password Strength comic. A characteristic of the domain is simply fit into the base sentence:\nbase: \"Silly banana, happy elephant.\" facebook: \"Silly facebook, happy elephant.\"  This allowed me to change the password by moving the domain phrase around or performing other manipulations, while also having longer, more secure passwords that I could easily remember. Still, having a template seemed like a bad idea.\nPassword Management After a while, however, I finally started using pwSafe and started generating random passwords for each site. This is clearly the best way to do things but in all honesty - the most important thing to secure is your email and any social auth accounts. To that end, I set up 2 factor authentication using Google Authenticator as much as I could, and text messaging where I couldn’t.\nI don’t think I’m paranoid, this just seems like good Internet hygiene. The appendix includes a list of the sites that I use 2 factor authentication and please let me know if there are any others I should include.\nThe issue, of course, is that I’m paranoid that I’ll lose or misplace my pwSafe master key, have the database corrupted, or otherwise be locked out of my accounts. I want a methodology that creates passwords that are as secure as possible that I can also reproduce on my own. The password should be domain specific, unique, long, and contain a variety of characters.\nReproducible Methodology So here’s the idea:\n Create a master password Create a password string by concatenating the master, the base url of the site, and some salt or incrementing value. Hash the password string Encode the hash and use as password.  Now all you have to remember is the master password and the salt or incrementing value on a per-domain basis.\nIssues:\n What encoding scheme do you choose? Some sites require special characters and numbers, others cannot accept them. The domain of the characters is now also reduced to 16 chars for hex encoding, or 64 chars for base64 (even if you use one with special characters like hexbin). How do you verify the master password (ensuring there was no typo). How do you remember the salt? Perhaps something device specific like a UUID?  I’m sure there are more issues here as well.\nHowever, I’m hoping this is good enough when combined with 2FA, this password is just a first step, and gives me the ability to reproduce the sequence of characters for crucial sites in case the pwSafe database is corrupted. For most sites, I’ll simply use a randomly generated password and rely on the “forgot password” link.\n Conclusion So in this post, I’ve presented a simple, reproducible method for generating somewhat secure passwords that I intend to use in combination with two factor authentication. It is my hope that these passwords are long enough, unique to the domain, but able to be generated on demand.\nThis is a list of the sites that I have set up 2 factor authentication with, for reference.\n Google and Gmail Accounts Apple ID GitHub Facebook Twitter PayPal Heroku AWS LinkedIn  ","wordCount":"973","inLanguage":"en","datePublished":"2016-03-30T09:07:21Z","dateModified":"2016-03-30T09:07:21Z","author":{"@type":"Person","name":"Benjamin Bengfort"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://bbengfort.github.io/2016/03/password-generator/"},"publisher":{"@type":"Organization","name":"Libelli","logo":{"@type":"ImageObject","url":"https://bbengfort.github.io/favicon.ico"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme: #1d1e20;--entry: #2e2e33;--primary: rgba(255, 255, 255, 0.84);--secondary: rgba(255, 255, 255, 0.56);--tertiary: rgba(255, 255, 255, 0.16);--content: rgba(255, 255, 255, 0.74);--hljs-bg: #2e2e33;--code-bg: #37383e;--border: #333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://bbengfort.github.io accesskey=h title="Libelli (Alt + H)"><img src=/icon.png alt=logo aria-label=logo height=35>Libelli</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://bbengfort.github.io/archive/ title=archive><span>archive</span></a></li><li><a href=https://bbengfort.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://bbengfort.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://bbengfort.github.io/about/ title=about><span>about</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Simple Password Generation</h1><div class=post-meta>March 30, 2016&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Benjamin Bengfort</div></header><div class=post-content><p>I was talking with <a href=https://github.com/looselycoupled>@looselycoupled</a> the other day about how we generate passwords for use on websites. We both agree that every single domain should have its own password (to prevent one crack ruling all your Internets). However, we&rsquo;ve both evolved on the method over time, and I&rsquo;ve written a simple script that allows me to generate passwords using methodologies discussed in this post.</p><p>In particular I use the generator to create passwords for <a href=http://pwsafe.info/>pwSafe</a>, the tool I currently use for password management (due to its use of the <a href=https://raw.githubusercontent.com/jpvasquez/PasswordSafe/master/docs/formatV3.txt>open source database format</a> created by <a href=https://www.schneier.com/blog/archives/2005/06/password_safe.html>Bruce Schneier</a>). It is my hope that this script can be embedded directly into pwSafe, or at least allow me to write directly to the database; but for now I just copy and paste with the <code>pbcopy</code> utility.</p><p>The point of this post, though, is not the generator (though I hope it can be useful). The point of the post is that because I do not believe in security through <em>obscurity</em> or <em>obfuscation</em> I want to expose my techniques to criticism and testing publicly. I believe that an approach to security must be ongoing, living, and continuous. While the foundation of security revolves around some <em>shared secret</em> (a key, a password) that must not be made public, the way that secret is used should be open and constantly inspected for flaws.</p><p>So although this post isn&rsquo;t really about anything and is quite simple, it does put my money where my mouth is, philosophically speaking. If you&rsquo;re reading this, I hope you read with a critical eye and report any flaws you spot in the <a href=https://gist.github.com/bbengfort/02fa5be3413d494e282bf3ddb0e3f3a5#comments>comments of the snippet on GitHub Gist</a>.</p><h2 id=previous-approaches>Previous Approaches<a hidden class=anchor aria-hidden=true href=#previous-approaches>#</a></h2><p>My original approach was pretty simple: keep three versions of the same password in a variety of strengths:</p><pre><code>password
p4ssw0rd
p4$$w0rd
</code></pre><p>In order to generate domain specific passwords, just append a few characters from the site. So for example, for Facebook, Gmail, and PayPal you might use <code>passwordfb</code>, <code>p4ssw0rdgmail</code>, and <code>p4$$w0rdpp</code> respectively, in order of increasing &ldquo;security&rdquo;. The benefit of this approach is simple, memorable passwords that meet a variety of security features required by websites.</p><p>Of course, the flaws are numerous here. All passwords should have the same level of security, using a variety of characters. Additionally the use of a discoverable pattern could make a targeted attack easy. The real problem for me, however, was that on sites that required a routine password change (which should be done anyway). This method does not lend flexibility. However, it does highlight the trade-off between ease of use and security, however, which led my to my next approach.</p><p>The next approach did the same thing, but instead of adding letters and symbols, I used a long, correct sentence inspired by the <a href=https://xkcd.com/936/>xkcd Password Strength comic</a>. A characteristic of the domain is simply fit into the base sentence:</p><pre><code>base: &quot;Silly banana, happy elephant.&quot;
facebook: &quot;Silly facebook, happy elephant.&quot;
</code></pre><p>This allowed me to change the password by moving the domain phrase around or performing other manipulations, while also having longer, more secure passwords that I could easily remember. Still, having a template seemed like a bad idea.</p><h2 id=password-management>Password Management<a hidden class=anchor aria-hidden=true href=#password-management>#</a></h2><p>After a while, however, I finally started using pwSafe and started generating random passwords for each site. This is clearly the best way to do things but in all honesty - the <a href=http://www.wired.com/2012/11/ff-mat-honan-password-hacker/>most important thing to secure is your email and any social auth accounts</a>. To that end, I set up <a href=http://lifehacker.com/5938565/heres-everywhere-you-should-enable-two-factor-authentication-right-now>2 factor authentication</a> using <a href=https://en.wikipedia.org/wiki/Google_Authenticator>Google Authenticator</a> as much as I could, and text messaging where I couldn&rsquo;t.</p><p>I don&rsquo;t think I&rsquo;m paranoid, this just seems like good Internet hygiene. The appendix includes a list of the sites that I use 2 factor authentication and please let me know if there are any others I should include.</p><p>The issue, of course, is that I&rsquo;m paranoid that I&rsquo;ll lose or misplace my pwSafe master key, have the database corrupted, or otherwise be locked out of my accounts. I want a methodology that creates passwords that are as secure as possible that I can also reproduce on my own. The password should be domain specific, unique, long, and contain a variety of characters.</p><h2 id=reproducible-methodology>Reproducible Methodology<a hidden class=anchor aria-hidden=true href=#reproducible-methodology>#</a></h2><p>So here&rsquo;s the idea:</p><ol><li>Create a master password</li><li>Create a password string by concatenating the master, the base url of the site, and some salt or incrementing value.</li><li>Hash the password string</li><li>Encode the hash and use as password.</li></ol><p>Now all you have to remember is the master password and the salt or incrementing value on a per-domain basis.</p><p>Issues:</p><ol><li>What encoding scheme do you choose? Some sites require special characters and numbers, others cannot accept them. The domain of the characters is now also reduced to 16 chars for hex encoding, or 64 chars for base64 (even if you use one with special characters like hexbin).</li><li>How do you verify the master password (ensuring there was no typo).</li><li>How do you remember the salt? Perhaps something device specific like a UUID?</li></ol><p>I&rsquo;m sure there are more issues here as well.</p><p>However, I&rsquo;m hoping this is good enough when combined with 2FA, this password is just a first step, and gives me the ability to reproduce the sequence of characters for crucial sites in case the pwSafe database is corrupted. For most sites, I&rsquo;ll simply use a randomly generated password and rely on the &ldquo;forgot password&rdquo; link.</p><script type=application/javascript src=https://gist.github.com/bbengfort/02fa5be3413d494e282bf3ddb0e3f3a5.js></script><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>So in this post, I&rsquo;ve presented a simple, reproducible method for generating somewhat secure passwords that I intend to use in combination with two factor authentication. It is my hope that these passwords are long enough, unique to the domain, but able to be generated on demand.</p><p>This is a list of the sites that I have set up 2 factor authentication with, for reference.</p><ul><li>Google and Gmail Accounts</li><li>Apple ID</li><li>GitHub</li><li>Facebook</li><li>Twitter</li><li>PayPal</li><li>Heroku</li><li>AWS</li><li>LinkedIn</li></ul></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://bbengfort.github.io>Libelli</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu')
menu.scrollLeft=localStorage.getItem("menu-scroll-position");menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft);}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>